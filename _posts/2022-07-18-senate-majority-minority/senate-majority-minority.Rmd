---
title: "A look at MA State Senate Redistricting"
description: |
  There are few possibilities for districts that give voting power
  to minority voters and candidates in Massachuestts
author: Brent Benson
date: 2022-07-22
citation: false
preview: https://www.massnumbers.us/images/middlesex_and_suffolk_redist.png
output:
  distill::distill_article:
    self_contained: false
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE)
options(digits=1, knitr.kable.NA="")
library(kableExtra)
library(formattable)
library(tidyverse)
library(sf)
library(tmap)
library(readxl)
library(viridis)
library(tidycensus)
library(tigris)
library(units)
library(nominatimlite)
```

```{r senate-districts}
sen_dist <- read_excel("../../_data/2020/MA_State_Senate_Race_2022.xlsx", sheet="Districts")

sen_cand <- read_csv("../../_data/2020/ma_state_senate_cands_2022_contested_addr.csv") %>%
    rename(Inc = Incumbent) %>%
    mutate(address = str_c(street_address, city_town, "MA", sep=", ")) %>%
    select(-street_address)

sen_geom <- read_sf("../../_gis/SENATE2021/SENATE2021_POLY.shp", as_tibble=TRUE) %>%
    st_make_valid() %>%
    select(Number=SENDISTNUM) %>%
    st_transform(st_crs(6491)) %>%
    left_join(sen_dist, by="Number") %>%
    relocate(District)

sen_geom_12 <- read_sf("../../_gis/senate2012/SENATE2012_POLY.shp", as_tibble=TRUE) %>%
    st_make_valid() %>%
    st_transform(st_crs(6491))

tmap_mode(mode="view")
one_m_sq <- set_units(1, m^2)
two_k_m_sq <- set_units(2000, m^2)
five_k_m_sq <- set_units(5000, m^2)
```

```{r district-setup}
vtd_to_city_town <- read_csv("../../_data/2020/ma_vtds_city_town_fips.csv") %>%
    select(vtd_fips, city_town, Ward, Pct, city_town_fips, type)

ma_vtds <- voting_districts(state=25) %>%
    rename(state_code = STATEFP20,
           county_code = COUNTYFP20,
           vtd_code = VTDST20,
           vtd_fips = GEOID20) %>%
    filter(vtd_code != "ZZZZZZ") %>%
    left_join(vtd_to_city_town, by="vtd_fips") %>%
    st_transform(st_crs(6491))

ma_towns <- read_sf("../../_gis/townssurvey_shp/TOWNSSURVEY_POLYM.shp",
                    as_tibble=TRUE) %>%
    st_make_valid() %>%
    mutate(city_town = str_to_title(TOWN)) %>%
    select(city_town) %>%
    st_transform(st_crs(6491))

ma_towns_dems <- read_csv("../../_data/2020/ma_city_town_demographics_pvi_2020.csv") %>%
    mutate(city_town = str_replace(city_town, "Manchester-by-the-Sea", "Manchester")) %>%
    rename(white_pct = race_white_pct,
           black_pct = race_black_pct,
           hispanic_pct = race_hispanic_pct,
           asian_pct = race_asian_pct) %>%
    select(city_town_fips, city_town, PVI, PVI_N, total_population,
           white_pct, black_pct, hispanic_pct, asian_pct)

ma_towns_geom <- merge(ma_towns, ma_towns_dems, by="city_town") %>%
    mutate(center = st_centroid(geometry)) %>%
    relocate(city_town)

ma_vtds_pvi <- read_csv("../../_data/2020/ma_precinct_pvi_2020.csv")
    
ma_vtds_dems <- read_csv("../../_data/2020/ma_census_2020_daves.csv") %>%
    rename(total_population = Tot_2020_tot) %>%
    mutate(white_pct = Wh_2020_tot/total_population,
           black_pct = BlC_2020_tot/total_population,
           hispanic_pct = His_2020_tot/total_population,
           asian_pct = AsnC_2020_tot/total_population) %>%
    select(vtd_fips, total_population, white_pct, black_pct,
           hispanic_pct, asian_pct)

ma_vtds_geom <- ma_vtds %>%
    mutate(center = st_centroid(geometry)) %>%
    left_join(ma_vtds_pvi, by=c("city_town", "Ward", "Pct")) %>%
    left_join(ma_vtds_dems, by="vtd_fips")

ma_sen <- read_sf("../../_gis/SENATE2021/SENATE2021_POLY.shp", as_tibble=TRUE) %>%
    st_make_valid() %>%
    select(SENDISTNUM, SEN_DIST) %>%
    st_transform(st_crs(6491))

ma_house_12 <- read_sf("../../_gis/house2012/HOUSE2012_POLY.shp", as_tibble=TRUE) %>%
    st_make_valid() %>%
    st_transform(st_crs(6491))

ma_city_town_num_pcts <- ma_vtds_geom %>%
    st_drop_geometry() %>%
    group_by(city_town) %>%
    summarize(num_precincts = n())

ward_precinct_name <- function(city_town, ward, precinct) {
    str_c(city_town,
          if_else(ward == "-", "", str_c("Ward ", ward)),
          str_c("Precinct ", precinct),
          sep=" ")
}

## Determine which towns and precincts are in the district.
## If a whole town is contained in the district, include the
## whole town, otherwise, include by precinct.
##
town_precinct_mix <- function(sen_dist_geom, towns_geom, vtds_geom, city_town_num_pcts) {
    towns <- st_intersection(sen_dist_geom, towns_geom) %>%
        filter(st_area(geometry) > five_k_m_sq)
    vtds <- st_intersection(sen_dist_geom, vtds_geom) %>%
        filter(st_area(geometry) > one_m_sq)
    num_pcts <- vtds %>%
        st_drop_geometry() %>%
        group_by(city_town) %>%
        summarize(num_precincts = n())
    completes <- num_pcts %>%
        left_join((city_town_num_pcts %>% rename(total_precincts = num_precincts)), by="city_town") %>%
        mutate(complete = (num_precincts == total_precincts))
    full_towns <- right_join(
            towns,
            (completes %>%
             filter(complete) %>%
             select(city_town)),
            by="city_town") %>% 
        select(name=city_town, PVI, PVI_N, total_population,
               white_pct, black_pct, hispanic_pct, asian_pct)
    precincts <- right_join(
            vtds,
            (completes %>%
             filter(!complete) %>%
             select(city_town)),
            by="city_town") %>%
        mutate(name=ward_precinct_name(city_town, Ward, Pct)) %>%
        select(name, PVI, PVI_N, total_population, white_pct,
               black_pct, hispanic_pct, asian_pct)
    towns_precincts <- rbind(full_towns, precincts) %>%
        mutate(District = sen_dist_geom$District)
    towns_precincts
}

redistrict_map <- function(sen_dist, towns_pcts, prev_dist) {
    (tm_shape(towns_pcts, bbox=st_bbox(st_union(sen_dist, prev_dist))) +
     tm_borders(lwd=0.5) +
     tm_fill(col="minority_pct",
             style="fixed",
             breaks=c(0, 0.2, 0.5, 0.7, 1),
             palette="PRGn",
             midpoint=0.5,
             alpha=0.7,
             popup.vars=c("PVI", "total_population", "minority_pct", "white_pct", 
                         "black_pct", "hispanic_pct", "asian_pct")) +
    tm_shape(sen_dist) + tm_borders(lwd=3) +
    tm_shape(prev_dist) + tm_borders(lwd=2.5, lty="dotted") +
    tm_basemap("OpenStreetMap"))
}

```

## Redistricting Concepts

The Massachusetts State Senate lines have been redrawn by the
legislature after the 2020 Census as required by the constitution.
Detailed guidelines used by the state legislatures can be found in the
[Executive Summary of the Redistricting Red
Book](https://www.ncsl.org/Portals/1/Documents/Redistricting/Exec_Summary_2020.pdf),
published by the National Conference of State Legislatures.

The primary responsibility given to redistricters by the constitution
is to ensure equally-sized districts. For state legislatures, the
courts have generally approved of redistricting plans where the
largest and smallest districts are within 5 percent of the target
population. The equally-sized mandate results in the shifting of
district lines as populations change throughout the state.

The next mandate from the Voting Rights Act (VRA) relates to race,
color, and minority language groups.  While it is illegal to use race
and ethnicity as factor in redistricting in the general case, it is
also illegal to dilute concentrations of a minority voting block,
resulting in that voting block not being able to elect its candidate
of choice.

While the short-hand concept of a majority-minority district is often
used evaluating redistricting plans, it is often an oversimplification
when examining minority voting block dilution. In particular, minority
voting blocks do not usually vote as a monolith. It needs to be
verified by analysis of historical voting patterns, but a district
with 25% black voters and 30% hispanic is technically
majority-minority, but gives neither the black voters nor the hispanic
voters the ability to elect their preferred candidate.

The newly drawn 2020-2021 Massachusetts State Senate district
definitions increase the number of majority-minority districts from
three to six, but we will see that only three of the districts contain
a minority voting block with enough power to elect their candidate of
choice. It is also clear from looking at the data that there aren't
enough concentrated minority blocks to do any better, given the
current population distribution in Massachusetts.

## Concentrations of Minority Voting Blocks



## Plan Details

A little over ten years ago the 2010-2011 MA redistricting based on
the 2010 census was signed into law on November 21, 2011. This plan
had three majority minority State Senate districts: the First Suffolk
District running on the eastern side of Boston from South Boston down
to Mattapan, the Second Suffolk District on the western side of Boston
from the South End through Roxbury and Jamaica Plain into Hyde Park,
and the Hampden District with West Springfield and most of Springfield
and Chicopee. These districts remain majority minority after the
latest redistricting.

The most recent 2020-2021 redistricting process led by State Senator
William Brownsberger (D-Belmont) was able to add three more majority
minority districts: the Middlesex and Suffolk, First Essex, and Second
Plymouth and Norfolk districts. The First Essex District will be
represented by a person of color after November (based on the
candidates that have qualified for the ballot), the Middlesex and
Suffolk District will continue with incumbent State Senator Sal
DiDomenico (D-Everett), a white male who is not facing a challenge,
while Second Plymouth and Norfolk District State Senator Michael Brady
(D-Brockton) is facing a challenge from Randolph Town Councilor
Katrina Huff-Larmond, who happens to be a woman of color.

[There will be an upcoming Mass. Numbers post on all of the contested
state senate primary races.]

## The Middlesex and Suffolk District

```{r middlesex-and-suffolk-redist, layout="l-body-outset", fig.cap="*Middlesex and Suffolk District*"}
sen_26 <- sen_geom %>% filter(Number == 26)
sen_old_26 <- sen_geom_12 %>% filter(SEN_DIST == "Middlesex and Suffolk")

sen_towns_pcts_26 <- town_precinct_mix(
                        sen_26,
                        ma_towns_geom,
                        ma_vtds_geom,
                        ma_city_town_num_pcts) %>%
    mutate(minority_pct = 1 - white_pct)

sen_26_map <- redistrict_map(sen_26, sen_towns_pcts_26, sen_old_26)

tmap_leaflet(sen_26_map)
```

The Middelsex and Suffolk state senate district represented by Sal
DiDomenico (D-Everett) has been redrawn adding diverse sections of
Cambridgeport and East Cambridge, while removing parts of Boston's
West End, Allston, and Brighton neighborhoods. The district ends up
with a demographic mix of 46% White, 24% Hispanic, 12% Black, and 15%
Asian. The previous incarnation of this district would have been a
majority minority district with the latest demographic information,
but the new lines reinforce its majority minority demographic.

While DiDomenico does not have primary or general election challenger,
Lydia Edwards, the incumbent of the current First Suffolk and
Middlesex District which contains some of the same Cambridgeport and
East Cambridge neighborhoods as the new Middlesex and Suffolk
district, is running unchallenged in the new Third Suffolk State
Senate District. The Third Suffolk is not majority minority, but will
continue to be represented by Edwards, the only black woman in the
Massachusetts State Senate, and one of only three people of color in
the state senate.

## The First Essex District

```{r first-essex-redist, layout="l-body-outset", fig.cap="*First Essex District*"}
sen_19 <- sen_geom %>% filter(Number == 19)
sen_old_19 <- sen_geom_12 %>% filter(SEN_DIST == "First Essex")

sen_towns_pcts_19 <- town_precinct_mix(
                        sen_19,
                        ma_towns_geom,
                        ma_vtds_geom,
                        ma_city_town_num_pcts) %>%
    mutate(minority_pct = 1 - white_pct)

sen_19_map <- redistrict_map(sen_19, sen_towns_pcts_19, sen_old_19)

tmap_leaflet(sen_19_map)
```

The First Essex State Senate District contains all of Lawrence, all of
Methuen, and approximately 5 precincts of Haverhill (give or take a
few census blocks). The previous lines of the district (the dotted
line in the map) did not include Lawrence and instead included a large
number of largely white communities. The new lines result in a voting
age population that is 36% White, 56% Hispanic, 10% Black, and 3%
Asian. The First Essex incumbent, Diana DiZoglio (D-Methuen), is
running for Auditor, leaving an open race for a competitive field of
candidates from Lawrence and Methuen (check out the upcoming
Mass. Numbers State Sentate primary overview).

## The Second Plymouth and Norfolk District

```{r spn-redist, layout="l-body-outset", fig.cap="*Second Plymouth and Norfolk District*"}
sen_34 <- sen_geom %>% filter(Number == 34)
sen_old_34 <- sen_geom_12 %>% filter(SEN_DIST == "Second Plymouth and Bristol")

sen_towns_pcts_34 <- town_precinct_mix(
                        sen_34,
                        ma_towns_geom,
                        ma_vtds_geom,
                        ma_city_town_num_pcts) %>%
    mutate(minority_pct = 1 - white_pct)

sen_34_map <- redistrict_map(sen_34, sen_towns_pcts_34, sen_old_34)

tmap_leaflet(sen_34_map)
```

The Second Plymouth and Norfolk District was a late-comer to the
majority minority district additions during the latest redistricting
process. The first draft of the senate redistricting plan left the
Brockton-based district almost unchanged and grouped with the mostly
white surrounding suburb of Hanover, Plympton and Easton. [Pressure
from redistricting advocacy
groups](https://www.bostonglobe.com/2021/10/19/metro/under-pressure-state-senate-redraws-map-adding-new-majority-minority-district-brockton/)
led to a plan which extended the district through Avon into parts of
Randolph that moved the demographics of the district into majority
minority, while moving the white suburbs into adjacent districts.

The newly configured district has attracted an experienced Democratic
challenger in Randolph Town Councilor Katrina Huff-Larmond who could
increase the number of black women in the senate above one, Lydia
Edward (D-Boston), if she were to win the primary on September 16th.

## The remaining majority minority districts

```{r all-districts-map, fig.cap="*Remaining majority minority State Senate Districts*"}
sen_3 <- sen_geom %>% filter(Number == 3)
sen_towns_pcts_3 <- town_precinct_mix(
                        sen_3,
                        ma_towns_geom,
                        ma_vtds_geom,
                        ma_city_town_num_pcts) %>%
    mutate(minority_pct = 1 - white_pct)

sen_29 <- sen_geom %>% filter(Number == 29)
sen_towns_pcts_29 <- town_precinct_mix(
                        sen_29,
                        ma_towns_geom,
                        ma_vtds_geom,
                        ma_city_town_num_pcts) %>%
    mutate(minority_pct = 1 - white_pct)

sen_30 <- sen_geom %>% filter(Number == 30)
sen_towns_pcts_30 <- town_precinct_mix(
                        sen_30,
                        ma_towns_geom,
                        ma_vtds_geom,
                        ma_city_town_num_pcts) %>%
    filter(!is.na(white_pct)) %>%
    mutate(minority_pct = 1 - white_pct)

maj_min_outlines <- rbind(sen_3, sen_29, sen_30)
maj_min_tp <- rbind(sen_towns_pcts_3, sen_towns_pcts_29, sen_towns_pcts_30)

maj_min_map <- (tm_shape(maj_min_tp) +
                    tm_borders(lwd=0.5) +
                     tm_fill(col="minority_pct",
                            style="fixed",
                            breaks=c(0, 0.2, 0.5, 0.7, 1),
                           palette="PRGn",
                            midpoint=0.5,
                           alpha=0.7,
                           popup.vars=c("PVI", "total_population", "minority_pct", "white_pct", 
                                      "black_pct", "hispanic_pct", "asian_pct")) +
                    tm_facets(by="District") +
                    tm_shape(maj_min_outlines) + tm_borders(lwd=3) +
                    tm_facets(by="District") +
                    tm_basemap("OpenStreetMap"))

## tmap_leaflet(maj_min_map)
maj_min_map
```

